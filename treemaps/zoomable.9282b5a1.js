var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire94c2;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,a.call(l.exports,l,l.exports),l.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire94c2=a);var l=(a("ld1g2"),a("ld1g2"));console.log(l);var r=a("bOTk3"),i=a("b8ciI");function o(e){return c(e).length-1}function c(e){let t={")":"(","]":"[",">":"<","}":"{"},n=[...e],a=[],l=[],r="";return n.forEach(e=>{if("."===e){0===a.length?(l.push(r),r=""):r=r.concat(".");return}if("("===e||"{"===e||"<"==e||"["==e)a.push(e);else if(")"===e||"}"===e||">"===e||"]"===e){for(;a.length>1&&a[a.length-1]!=t[e];)a.pop();a.pop()}r=r.concat(e)}),r.length>0&&l.push(r),l}var l=a("ld1g2");const d=new Map(Object.entries(r.kotlinRetainedSize).map(e=>[e[0],e[1].size])),s=new Map(Object.entries(i.kotlinDeclarationsSize).map(e=>[e[0],e[1].size])),p=.97*window.innerHeight,u=.8*window.innerWidth;let f=new Set([...d.keys()]),g=0;function h(e,t,n,a){let r=function e(t,n,a,l,r=null,i,d=!1){let s=t.filter(e=>o(e)==n).map(e=>null!=r?d?{name:e,value:0,category:"middle",children:[{name:`${e} (retained)`,value:l.get(e)-r.get(e),category:"retained",children:[{name:"shallow size",value:r.get(e),category:"shallow",children:[]}]}]}:{name:e,value:l.get(e)-r.get(e),category:"retained",children:[{name:e,value:r.get(e),category:"shallow",children:[]}]}:{name:e,value:l.get(e),category:i,children:[]}),p=t.filter(e=>o(e)!=n),u=new Set(p.map(e=>c(e)[n]));return u.forEach(t=>{let a=e(p.filter(e=>c(e)[n]==t),n+1,t,l,r,i,d);s.push(a)}),{name:a,category:"middle",children:s,value:0}}([...f],0,"Kotlin IR",e,t,n,a),i=l.hierarchy(r).sum(e=>e.value);return i.children.sort((e,t)=>t.value-e.value),i}var m=a("16ejo");const y=e=>e.ancestors().reverse().map(e=>e.data.name).join("/"),v=l.format(",d");let w=l.scaleLinear().rangeRound([0,u]),x=l.scaleLinear().rangeRound([0,p]);const $=l.select("body").append("svg").attr("width",u).attr("height",p).append("g").style("font","10px sans-serif").attr("viewBox",[.5,-30.5,u,p+30]).attr("transform","translate(0, 30)"),b=l.treemap().tile(function(e,t,n,a,r){for(let i of(l.treemapBinary(e,0,0,u,p),e.children))i.x0=t+i.x0/u*(a-t),i.x1=t+i.x1/u*(a-t),i.y0=n+i.y0/p*(r-n),i.y1=n+i.y1/p*(r-n)});let E=null;const R=document.getElementById("viewMode"),k=function(e,t){return function(){let n=document.getElementById("viewMode").value;if(!("retained"!==n&&"shallow"!==n&&"middle"!=n))t("retained"===n?h(d,null,"retained",e):"shallow"===n?h(s,null,"shallow",e):h(d,s,"retained",e))}}(!0,e=>{$.selectAll("g").remove(),w=l.scaleLinear().rangeRound([0,u]),x=l.scaleLinear().rangeRound([0,p]),E=$.append("g").call(T,b(e))});function T(e,t){let n=e.selectAll("g").data(t.children.concat(t)).join("g");n.filter(e=>e===t?e.parent:e.children).attr("cursor","pointer").on("click",(e,n)=>n===t?function(e){let t=E.attr("pointer-events","none"),n=E=$.insert("g","*").call(T,e.parent);w.domain([e.parent.x0,e.parent.x1]),x.domain([e.parent.y0,e.parent.y1]),$.transition().duration(750).call(n=>t.transition(n).remove().attrTween("opacity",()=>l.interpolate(1,0)).call(j,e)).call(t=>n.transition(t).call(j,e.parent))}(t):function(e){let t=E.attr("pointer-events","none"),n=E=$.append("g").call(T,e);w.domain([e.x0,e.x1]),x.domain([e.y0,e.y1]),$.transition().duration(750).call(n=>t.transition(n).remove().call(j,e.parent)).call(t=>n.transition(t).attrTween("opacity",()=>l.interpolate(0,1)).call(j,e))}(n)),n.append("title").text(e=>`${y(e)}
${v(e.value)}`),n.append("rect").attr("id",e=>e.leafUid=`leaf${g++}`).attr("fill",e=>e===t?"#fff":"retained"===e.data.category?"#56B870":e.children?"#ccc":"#347EB4").attr("stroke","#fff"),n.append("clipPath").attr("id",e=>e.clipUid=`clip${g++}`).append("use").attr("xlink:href",e=>`#${e.leafUid}`),n.append("text").attr("clip-path",e=>`url(#${e.clipUid})`).attr("font-weight",e=>e===t?"bold":null).selectAll("tspan").data(e=>{let n=e===t?y(e):e.data.name;return[n].concat(v(e.value))}).join("tspan").attr("x",3).attr("y",(e,t,n)=>`${(t===n.length-1)*.3+1.1+.9*t}em`).attr("fill-opacity",(e,t,n)=>t===n.length-1?.7:null).attr("font-weight",(e,t,n)=>t===n.length-1?"normal":null).text(e=>e),e.call(j,t)}function j(e,t){e.selectAll("g").attr("transform",e=>e===t?"translate(0,-30)":`translate(${w(e.x0)},${x(e.y0)})`).select("rect").attr("width",e=>e===t?u:w(e.x1)-w(e.x0)).attr("height",e=>e===t?30:x(e.y1)-x(e.y0))}R.oninput=k,k(),(0,m.buildTreeView)(d,!0,function(e,t){e.forEach(e=>{t?(f.add(e),console.log(`${e} added`)):(f.delete(e),console.log(`${e} deleted`))}),k()});