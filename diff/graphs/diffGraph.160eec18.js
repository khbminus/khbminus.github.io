var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequire94c2;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequire94c2=r);var n=r("ld1g2");const l=e=>e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;");var n=r("ld1g2");console.log(n);var o=r("gJtvX");const s=new Set(o.diffMetaNodesInfo.metaNodesList);console.log(s);const i=new Map([...Object.entries(o.diffMetaNodesInfo.parent)]),c=new Set;function f(e){return s.has(e)}const d=new Map;s.forEach(e=>d.set(e,[])),[...i.entries()].forEach(e=>{let t=e[0],a=e[1];d.get(a).push(t)});const u="#aaa",p=.95*window.innerHeight,m=.8*window.innerWidth,y=n.select("body").append("svg").attr("width",m).attr("height",p).append("g"),h=new Map(Object.entries(o.diffDeclarationsSizes)),g=[...h.entries()].map(e=>[e[1].size,e[1].size]).reduce((e,t)=>[Math.min(e[0],t[0]),Math.max(e[1],t[1])]),x=n.scaleLinear().domain([0,g.reduce((e,t)=>Math.max(e,t))]).range([5,100]),w=[...h.entries()].map(e=>{let t=x(Math.abs(e[1].size));return{name:e[0],value:t}}),b=new Set(w.map(e=>e.name)),v=o.diffReachibilityInfos.filter(e=>e.source!==e.target).map(e=>({source:e.source,target:e.target,isVisible:!0}));{let e=e=>{w.push({name:e,value:x(0)}),b.add(e),h.set(e,{size:0,type:"unknown"})};v.forEach(t=>{b.has(t.source)||(console.log(t.source),e(t.source)),b.has(t.target)||(console.log(t.target),e(t.target))})}const M=v.map(e=>({...e})),k=new Map;M.forEach(e=>{let t=e.source,a=e.target;if(f(t))return;let r=k.has(t)?k.get(t):new Set;r.add(i.get(a)),k.set(t,r)}),[...k.entries()].forEach(e=>{let t=e[0];e[1].forEach(e=>{v.push({source:t,target:e,isVisible:!0})})});const z=new Map(w.map(e=>[e.name,e])),E=["function","property","field","anonymousInitializer","class","unknown","left","right","both"],j=n.scaleOrdinal().domain(E).range(["#e06ec1","#9E999D","#824e6c","#347EB4","#08ACB6","#91BB91","#d3d3d3","#2F4F4F","#808080"]);(function(){let e=y.append("g").attr("class","legend").attr("transform","translate(20, 10)"),t=e.append("rect").attr("x",0).attr("y",0).style("fill","#fff").style("stroke","black").style("stroke-width",.1),a=e.append("g").attr("class","legend-inner").attr("transform","translate(10, 10)").style("font-size","12px");a.append("circle").attr("r","0.5em").attr("cx",0).attr("cy","-0.25em").style("fill","#abc"),a.append("text").text("Difference between two versions").attr("x","1em").attr("y",0),a.selectAll(".cat-circle").data(E).enter().append("circle").attr("cx","0em").attr("cy",(e,t)=>`${1.25+1.5*t}em`).attr("r","0.5em").attr("class","cat-circle").style("fill",e=>j(e)),a.selectAll(".cat-text").data(E).enter().append("text").text(e=>`Ir element with type ${e}`).attr("x","1em").attr("y",(e,t)=>`${1.5+1.5*t}em`).attr("class",".cat-text");let r=a.node().getBBox();t.attr("height",r.height+10).attr("width",r.width+10)})(),w.forEach(e=>{f(e.name)&&c.add(e.name)});let A=y.selectAll("line").data(v.filter(e=>f(e.source)&&f(e.target))).enter().append("line").style("stroke",u);const S=n.forceLink().id(e=>e.name).links(v.filter(e=>f(e.source)&&f(e.target))),B=n.forceSimulation(w.filter(I)).force("link",S).force("charge",n.forceManyBody().strength(-20)).force("center",n.forceCenter(m/2,p/2)).force("x",n.forceX()).force("y",n.forceY()).force("collide",n.forceCollide().radius(e=>e.value+1.5).iterations(2)).on("tick",N);let D=C(w.filter(e=>c.has(e.name)));new Promise(e=>setTimeout(e,5e3)).then(()=>B.stop());const T=n.select("body").append("div").attr("class","toolTip").style("z-index",2);function N(){A.attr("x1",e=>Math.max(0,Math.min(m,e.source.x))).attr("y1",e=>Math.max(0,Math.min(p,e.source.y))).attr("x2",e=>Math.max(0,Math.min(m,e.target.x))).attr("y2",e=>Math.max(0,Math.min(p,e.target.y))),D.attr("cx",e=>{let t=e.value;return e.x=Math.max(t,Math.min(m-t,e.x))}).attr("cy",e=>{let t=e.value;return e.y=Math.max(t,Math.min(p-t,e.y))})}function O(e,t){A.style("stroke",e=>e.source.name===t.name||e.target.name===t.name?"#fbe106":u).style("z-index",e=>e.source.name===t.name||e.target.name===t.name?1:0),T.style("left",e.x+10+"px"),T.style("top",e.y-20+"px"),T.style("display","inline-block"),console.log(t);let a=t.name in o.diffDeclarationsSizes?o.diffDeclarationsSizes[t.name].size:0;T.html(`Name: ${l(t.name)}<br>Shallow value (radius): ${a}`)}function I(e){let t="string"==typeof e?e:e.name;return c.has(t)}function $(e,t){if(!d.has(t.name))return;D.remove(),A.remove(),c.delete(t.name),d.get(t.name).forEach(e=>{let a=z.get(e);console.log(e,a),a.x=t.x,a.y=t.y,c.add(e)});let a=v.filter(e=>(function(e){let t=void 0!==e.source.name?e.source.name:e.source,a=void 0!==e.target.name?e.target.name:e.target;return I(t)&&I(a)&&e.isVisible})(e)),r=w.filter(I);B.nodes(r),B.force("link").links(a),A=y.selectAll("link").data(a).enter().append("line").style("stroke","#aaa"),D=C(r),N(),B.alpha(.1).restart()}function C(e){return y.selectAll(".outer-circle").data(e).join("circle").style("fill",e=>j(h.get(e.name).type)).style("stroke","black").style("stroke-width",.5).style("z-index",0).attr("class","outer-circle").attr("r",e=>e.value).on("mousemove",O).on("mouseout",function(e,t){A.attr("stroke",u),T.style("display","none")}).on("click",$).call(n.drag().on("start",function(e){e.active||B.alphaTarget(.3).restart(),T.style("left",e.x+10+"px"),T.style("top",e.y-20+"px"),e.subject.fx=e.subject.x,e.subject.fy=e.subject.y}).on("drag",function(e){T.style("left",e.x+10+"px"),T.style("top",e.y-20+"px"),e.subject.fx=e.x,e.subject.fy=e.y}).on("end",function(e){e.active||B.alphaTarget(0),e.subject.fx=null,e.subject.fy=null,T.style("display","none")}))}