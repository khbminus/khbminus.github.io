var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequire94c2;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequire94c2=n);var r=n("ld1g2");console.log(r);const l=["#e06ec1","#9E999D","#824e6c","#347EB4","#08ACB6","#91BB91","#BCD32F","#75EDB8","#a4d08e","#AD4FE8","#D5AB61","#bb9367","#F6A1F9","#87ABBB","#91647c","#56B870","#FDAB41","#64624F"];var r=n("ld1g2");const i=e=>e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;");function s(e){let t={")":"(","]":"[",">":"<","}":"{"},a=[...e],n=[],r=[],l="";return a.forEach(e=>{if("."===e){0===n.length?(r.push(l),l=""):l=l.concat(".");return}if("("===e||"{"===e||"<"==e||"["==e)n.push(e);else if(")"===e||"}"===e||">"===e||"]"===e){for(;n.length>1&&n[n.length-1]!=t[e];)n.pop();n.pop()}l=l.concat(e)}),l.length>0&&r.push(l),r}function o(e){return s(e).length-1}var p=n("16ejo"),d=n("gJtvX");!function(e,t){let a=new Set([...t.keys()].filter(a=>{let n=e.has(a)?e.get(a):0;return t.get(a)>n}));!function(e,t,a){let n=new Set([...e.keys(),...t.keys()]);(0,p.buildTreeView)(new Map([...n].map(e=>[e,0])),!0,(e,t)=>{e.forEach(e=>{t?n.add(e):n.delete(e)}),c.selectAll("text").remove(),c.selectAll("rect").remove(),m()});let d=.96*window.innerHeight,u=.8*window.innerWidth,c=r.select("body").append("svg").attr("width",u).attr("height",d).append("g"),h=r.select("svg").append("defs"),[g,f]=function(e){let t=new Map([...l.keys()].map(t=>{let a=l[((t-1)%l.length+l.length)%l.length],n="minus"+a.replace("#","");return e.append("pattern").attr("id","minus"+a.replace("#","")).attr("patternUnits","userSpaceOnUse").attr("width",4.5).attr("height",4.5).attr("patternTransform","rotate(90)").style("background",a).append("line").attr("x1",0).attr("y1",.5).attr("x2",0).attr("y2",4).attr("stroke","#ED1B24").attr("stroke-width",2),[l[t],n]})),a=new Map([...l.keys()].map(t=>{let a=l[((t-1)%l.length+l.length)%l.length],n="plus"+a.replace("#","");return e.append("pattern").attr("id","plus"+a.replace("#","")).attr("patternUnits","userSpaceOnUse").attr("width",20).attr("height",20).attr("patternTransform","scale(0.5) rotate(90)").style("background",a).append("path").attr("d","M3.25 10h13.5M10 3.25v13.5").attr("stroke-linecap","square").attr("stroke-width",.5).attr("stroke","hsl(121,100%,50%)"),[l[t],n]}));return[t,a]}(h);function m(){let p=function e(t,a,n,r,l,i){let p=t.filter(e=>o(e)==a).map(e=>{let t=r.has(e)?r.get(e):0,a=l.has(e)?l.get(e):0,n=i?[{name:e,value:a-t,plusChange:a>t?a-t:0,minusChange:a<t?t-a:0,category:a>t?"diff-pos":"diff-neg",children:[]},{name:e,value:Math.max(t,a)-Math.abs(t-a),plusChange:0,minusChange:0,category:"regular",children:[]}]:[{name:e,value:a-t,plusChange:a>t?a-t:0,minusChange:a<t?t-a:0,category:a>t?"diff-pos":"diff-neg",children:[]}];return{name:e,value:0,category:"middle",plusChange:n.map(e=>e.plusChange).reduce((e,t)=>e+t),minusChange:n.map(e=>e.minusChange).reduce((e,t)=>e+t),children:n}}),d=t.filter(e=>o(e)!=a),u=new Set(d.map(e=>s(e)[a]));return u.forEach(t=>{let n=e(d.filter(e=>s(e)[a]==t),a+1,t,r,l,i);p.push(n)}),{name:n,category:"middle",children:p,plusChange:p.map(e=>e.plusChange).reduce((e,t)=>e+t),minusChange:p.map(e=>e.minusChange).reduce((e,t)=>e+t),value:0}}([...n],0,"Kotlin IR",e,t,a),h=r.hierarchy(p).sum(e=>Math.abs(e.value)).sort((e,t)=>t.value-e.value);h.children.sort((e,t)=>t.value-e.value);let m=r.treemap().size([u,d]),y=m(h),v=e=>l[e.depth],w=c.selectAll("rect").data(y.descendants()).enter().append("rect").attr("x",e=>e.x0).attr("y",e=>e.y0).attr("width",(e,t)=>e.x1-e.x0-2*e.depth).attr("height",(e,t)=>e.y1-e.y0-2*e.depth).attr("fill",C).on("mousemove",function(a,n){x.style("left",a.x+10+"px"),x.style("top",a.y-20+"px"),x.style("display","inline-block");let r=n.data,l=n.value,s="";if("diff-pos"==r.category){let a=t.has(r.name)?t.get(r.name):0,n=e.has(r.name)?e.get(r.name):0;l=a-n,s=" (added)"}else if("diff-neg"==r.category){let a=t.has(r.name)?t.get(r.name):0,n=e.has(r.name)?e.get(r.name):0;l=n-a,s=" (removed)"}let o=`${r.name}${s}`;x.html(`${i(o)}: ${l}`)}).on("mouseout",function(e,t){x.style("display","none")}).style("stroke","black").style("z-index",e=>e.depth);c.selectAll("titles").data(y.descendants().filter(e=>1==e.depth)).enter().filter(e=>e.x1-e.x0>10&&e.y1-e.y0>10).append("text").attr("x",e=>e.x0).attr("y",e=>e.y0+21).text(e=>e.data.name).attr("font-size","19px").attr("fill",e=>"#ffffff");let x=r.select("body").append("div").attr("class","toolTip");function C(e){let t=e.data,a=v(e);return"regular"==t.category||"middle"==t.category?a:"diff-neg"==t.category?(console.log(`url(#${g.get(a)})`),`url(#${g.get(a)})`):`url(#${f.get(a)})`}document.getElementById("viewMode").oninput=e=>{let t=e.currentTarget.value,a=null;a="common"==t?C:"diff-pos"==t?e=>{let t=e.data;return"diff-pos"==t.category?"#BCD32F":"#808080"}:e=>{let t=e.data;return"diff-neg"==t.category?"#b04046":"#808080"},w.style("fill",a)}}m()}(new Map([...e.entries()].filter(e=>a.has(e[0]))),new Map([...t.entries()].filter(e=>a.has(e[0]))),!1)}(d.irMap1,d.irMap2);